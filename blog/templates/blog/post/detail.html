{% extends 'blog/base.html' %}

{% block title %}{{ post.title }}{% endblock %}

{% block content %}
    <h1>{{ post.title }}</h1>
    <p class="date">
        Published {{ post.publish }} by {{ post.author }}
    </p>
    {{ post.body|linebreaks }}

    <!-- New Comments section -->
    <section class="comments">
        <h2>Comments</h2>
        {% for comment in comments %}
            <div class="comment">
                <div class="comment-meta">
                    <span class="comment-author">{{ comment.author.username }}</span>
                    <span class="comment-date">{{ comment.created|timesince }}</span>
                </div>
                <div class="comment-content">
                    <p>{{ comment.text }}</p>
                </div>
                <div class="comment-actions">
                    <a href="#" class="reply-btn">Reply</a>
                </div>
                <div class="reply-form">
                    <!-- Include a reply form if needed -->
                </div>
            </div>
        {% empty %}
            <p>No comments yet.</p>
        {% endfor %}
    </section>

    <!-- Include the comment form -->
    {% include "blog/post/includes/comment_form.html" %}
{% endblock %}
